<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Stroud F1 test</title>
  </head>
  <body>
    <script type="module">
      import init, { greet, stroud_f1 } from "./pkg/rusty_ground_engineering.js";
      init()
    </script>
    <script type="module">
        import init, { greet, stroud_f1, stroud_f2, spt_to_cu, spt_to_mv, cu_val_to_desc, SoilStrengths, SoilCompressibility, mv_val_to_desc} from "./pkg/rusty_ground_engineering.js";
        function pi_to_f1() {
            document.getElementById("f1Results").innerHTML = stroud_f1(document.getElementById("pival").value)
        }

        
        function pi_to_f2() {
            document.getElementById("f2Results").innerHTML = stroud_f2(document.getElementById("pival").value)
        }

        function spt_to_cu_runner() {
            document.getElementById("cuResults").innerHTML = spt_to_cu(document.getElementById("pival").value, document.getElementById("nval").value)
            document.getElementById("soildesc").innerHTML = SoilStrengths[cu_val_to_desc(spt_to_cu(document.getElementById("pival").value, document.getElementById("nval").value))]
        }

        function spt_to_mv_runner() {
            document.getElementById("mvResults").innerHTML = spt_to_mv(document.getElementById("pival").value, document.getElementById("nval").value)
            document.getElementById("mvdesc").innerHTML = SoilCompressibility[mv_val_to_desc(spt_to_mv(document.getElementById("pival").value, document.getElementById("nval").value))]
        }


        function functions() {
            pi_to_f1()
            pi_to_f2()
            spt_to_cu_runner()
            spt_to_mv_runner()
        }
        document.getElementById("pival").addEventListener("change", functions)
        document.getElementById("nval").addEventListener("change", functions)


    </script>
    <h1>Stroud Correlation Tool</h1>
    <p>This tool takes the PI value and SPT N and calculates the stroud values and associated cu/mv values</p>
    <p>To use just input the values below and the calcs will be automatically carried out</p>
    <a>PI Value</a>
    <input type="number" id="pival" name="pival"><br><br>
    <a>N Value</a>
    <input type="number" id="nval" name="nval"><br><br>
    <br><a>f1 Value - <a id="f1Results">empty!</a></a>
    <br><a>f2 Value - <a id="f2Results">empty!</a></a>
    <br><a>cu Value - <a id="cuResults">empty!</a><a>kPa</a></a><a>  (</a><a id="soildesc"></a><a>)</a>
    <br><a>mv Value - <a id="mvResults">empty!</a><a>m2/MN</a></a><a>  (</a><a id="mvdesc"></a><a>)</a>
    
  </body>
</html>